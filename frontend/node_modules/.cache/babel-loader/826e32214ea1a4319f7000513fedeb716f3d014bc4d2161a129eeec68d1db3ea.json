{"ast":null,"code":"import _objectSpread from\"/workspace/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useRef,useMemo}from'react';import{FaServer,FaPlay,FaStop,FaTrash,FaTerminal,FaPlusCircle,FaFolder,FaCog,FaUsers,FaDownload,FaClock,FaSave,FaUpload,FaArrowLeft,FaMemory,FaMicrochip,FaNetworkWired,FaChevronRight}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API='http://localhost:8000';const TOKEN_KEY='auth_token';const getStoredToken=()=>localStorage.getItem(TOKEN_KEY)||'';const setStoredToken=t=>localStorage.setItem(TOKEN_KEY,t);const clearStoredToken=()=>localStorage.removeItem(TOKEN_KEY);const authHeaders=()=>{const t=getStoredToken();return t?{Authorization:\"Bearer \".concat(t)}:{};};// Attach Authorization header to all fetch calls\nif(typeof window!=='undefined'&&typeof window.fetch==='function'){const originalFetch=window.fetch.bind(window);window.fetch=function(input){let init=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const headers=_objectSpread(_objectSpread({},init&&init.headers?init.headers:{}),authHeaders());return originalFetch(input,_objectSpread(_objectSpread({},init||{}),{},{headers}));};}const BLOCKED_FILE_EXTENSIONS=['.jar','.exe','.dll','.zip','.tar','.gz','.7z','.rar','.bin','.img','.iso','.mp3','.mp4','.avi','.mov','.ogg','.wav','.class','.so','.o','.a','.pdf','.png','.jpg','.jpeg','.gif','.bmp','.ico','.webp','.ttf','.otf','.woff','.woff2'];function isBlockedFile(name){const lower=name.toLowerCase();return BLOCKED_FILE_EXTENSIONS.some(ext=>lower.endsWith(ext));}function useFetch(url){let deps=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];const[data,setData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{if(!url)return;let active=true;setLoading(true);fetch(url).then(async r=>{const payload=await r.json().catch(()=>null);if(!r.ok)throw new Error(payload&&(payload.detail||payload.message)||\"HTTP \".concat(r.status));return payload;}).then(d=>active&&setData(d)).catch(e=>active&&setError(e)).finally(()=>active&&setLoading(false));return()=>{active=false;};},deps);return{data,loading,error,setData};}function useServerStats(serverId){const[stats,setStats]=useState(null);useEffect(()=>{if(!serverId)return;let active=true;let interval=null;async function fetchStats(){try{const r=await fetch(\"\".concat(API,\"/servers/\").concat(serverId,\"/stats\"));if(!r.ok){if(r.status===404){if(active)setStats(null);return;}throw new Error(\"HTTP \".concat(r.status));}const d=await r.json();if(active)setStats(d);}catch(e){if(active&&e.message!=='HTTP 404'){setStats(null);}}}fetchStats();interval=setInterval(fetchStats,2000);return()=>{active=false;if(interval)clearInterval(interval);};},[serverId]);return stats;}function Stat(_ref){let{label,value,icon}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-white/5 border border-white/10 px-4 py-3 flex items-center gap-3\",children:[icon&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xl text-white/60\",children:icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/70\",children:label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold mt-1\",children:value})]})]});}function TerminalPanel(_ref2){let{containerId}=_ref2;const[cmd,setCmd]=useState('');const[logs,setLogs]=useState('');const scrollRef=useRef(null);useEffect(()=>{if(!containerId)return;let active=true;setLogs('');fetch(\"\".concat(API,\"/servers/\").concat(containerId,\"/logs?tail=200\")).then(r=>r.json()).then(d=>{if(active&&d&&typeof d.logs==='string')setLogs(d.logs);}).catch(()=>{if(active)setLogs('');});return()=>{active=false;};},[containerId]);useEffect(()=>{if(!containerId)return;let active=true;let interval=null;async function pollLogs(){try{const r=await fetch(\"\".concat(API,\"/servers/\").concat(containerId,\"/logs?tail=200\"));const d=await r.json();if(active&&d&&typeof d.logs==='string')setLogs(d.logs);}catch(e){if(active)setLogs('');}}interval=setInterval(pollLogs,2000);return()=>{active=false;if(interval)clearInterval(interval);};},[containerId]);useEffect(()=>{if(scrollRef.current){scrollRef.current.scrollTop=scrollRef.current.scrollHeight;}},[logs]);function send(){if(!cmd.trim())return;fetch(\"\".concat(API,\"/servers/\").concat(containerId,\"/command\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({command:cmd})});setCmd('');}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-black/20 rounded-lg space-y-4\",style:{minHeight:600},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-base text-white/70 mb-2\",children:\"Server Console & Logs (live)\"}),/*#__PURE__*/_jsx(\"div\",{ref:scrollRef,className:\"text-sm text-white/70 whitespace-pre-wrap bg-black/30 p-4 rounded max-h-[800px] min-h-[500px] overflow-auto font-mono\",style:{fontSize:'1.15rem',lineHeight:'1.5',height:500},children:logs||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"No output yet.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:cmd,onChange:e=>setCmd(e.target.value),onKeyDown:e=>e.key==='Enter'&&send(),className:\"flex-1 rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\",placeholder:\"Type a command (e.g. say hello or op Username)\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:send,className:\"inline-flex items-center gap-2 rounded-md bg-brand-500 hover:bg-brand-400 px-4 py-3 font-semibold text-base\",children:[/*#__PURE__*/_jsx(FaTerminal,{}),\" Send\"]})]})]});}function FilesPanel(_ref3){let{serverName,onEditStateChange}=_ref3;// This component is now unused, see FilesPanelWrapper in ServerDetailsPage\nreturn null;}function EditingPanel(_ref4){let{editPath,editContent,setEditContent,onSave,onCancel}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/70 mb-1\",children:[\"Editing: \",editPath]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-40 rounded bg-black/40 border border-white/10 p-2 text-xs\",value:editContent,onChange:e=>setEditContent(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onSave,className:\"rounded bg-brand-500 hover:bg-brand-400 px-3 py-1.5 inline-flex items-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(FaSave,{}),\" Save\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"rounded bg-white/10 hover:bg-white/20 px-3 py-1.5 text-xs\",children:\"Cancel\"})]})]});}function BackupsPanel(_ref5){let{serverName}=_ref5;const[list,setList]=useState([]);async function refresh(){const r=await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/backups\"));const d=await r.json();setList(d.items||[]);}useEffect(()=>{refresh();},[serverName]);async function createBackup(){await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/backups\"),{method:'POST'});refresh();}async function restore(file){await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/restore?file=\").concat(encodeURIComponent(file)),{method:'POST'});alert('Restore triggered. Stop the server before restoring for safety.');}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-black/20 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/70\",children:\"Backups\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:createBackup,className:\"rounded bg-brand-500 hover:bg-brand-400 px-3 py-1.5 inline-flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FaDownload,{}),\" Create backup\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[list.map(b=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white/5 border border-white/10 rounded px-3 py-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[b.file,' ',/*#__PURE__*/_jsxs(\"span\",{className:\"text-white/50\",children:[\"(\",Math.ceil((b.size||0)/1024/1024),\" MB)\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>restore(b.file),className:\"rounded bg-white/10 hover:bg-white/20 px-2 py-1\",children:\"Restore\"})})]},b.file)),list.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-white/60 text-sm\",children:\"No backups yet.\"})]})]});}// List of server types that require loader version input\nconst SERVER_TYPES_WITH_LOADER=['fabric','forge','neoforge'];function ConfigPanel(_ref6){let{server,onRestart}=_ref6;const[javaVersions,setJavaVersions]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[currentVersion,setCurrentVersion]=useState(null);const[updating,setUpdating]=useState(false);// Fetch available Java versions\nuseEffect(()=>{async function fetchJavaVersions(){setLoading(true);setError(null);try{const response=await fetch(\"\".concat(API,\"/servers/\").concat(server.id,\"/java-versions\"));if(!response.ok){throw new Error(\"HTTP \".concat(response.status));}const data=await response.json();setJavaVersions(data.available_versions);setCurrentVersion(data.current_version);}catch(e){setError(e.message);}finally{setLoading(false);}}fetchJavaVersions();},[server.id]);// Update Java version\nasync function updateJavaVersion(version){setUpdating(true);setError(null);try{const response=await fetch(\"\".concat(API,\"/servers/\").concat(server.id,\"/java-version\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({java_version:version})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.detail||\"HTTP \".concat(response.status));}const data=await response.json();setCurrentVersion(data.java_version);// Show success message\nalert(\"Java version updated to \".concat(data.java_version));}catch(e){setError(e.message);}finally{setUpdating(false);}}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-black/20 rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/70\",children:\"Loading Java version information...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-black/20 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-red-400\",children:[\"Error: \",error]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-black/20 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Server Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/70 mb-2\",children:\"Java Version\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/50 mb-3\",children:[\"Current version: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400\",children:currentVersion})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:javaVersions===null||javaVersions===void 0?void 0:javaVersions.map(javaInfo=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>updateJavaVersion(javaInfo.version),disabled:updating||currentVersion===javaInfo.version,className:\"p-3 rounded-lg border transition \".concat(currentVersion===javaInfo.version?'bg-brand-500 border-brand-400 text-white':'bg-white/5 border-white/10 text-white/70 hover:bg-white/10 hover:text-white',\" \").concat(updating?'opacity-50 cursor-not-allowed':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:javaInfo.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-70\",children:javaInfo.description})]},javaInfo.version))}),updating&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-yellow-400 mt-2\",children:\"Updating Java version...\"}),currentVersion&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-300 mb-2\",children:\"\\uD83D\\uDCA1 Tip\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-blue-200\",children:\"After changing the Java version, restart the server for the changes to take effect.\"}),onRestart&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onRestart(server.id),className:\"mt-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition\",children:\"Restart Server\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-white/10 pt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/70 mb-2\",children:\"Additional Settings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-white/50\",children:\"Use the Files tab to edit server.properties, spigot.yml, and other configuration files.\"})]})]});}function ServerDetailsPage(_ref7){let{server,onBack,onStart,onStop,onDelete,onRestart}=_ref7;const[activeTab,setActiveTab]=useState('overview');const[filesEditing,setFilesEditing]=useState(false);const[editPath,setEditPath]=useState('');const[editContent,setEditContent]=useState('');const[isEditing,setIsEditing]=useState(false);const[blockedFileError,setBlockedFileError]=useState('');const stats=useServerStats(server.id);const{data:typeVersionData}=useFetch(server!==null&&server!==void 0&&server.id?\"\".concat(API,\"/servers/\").concat(server.id,\"/info\"):null,[server===null||server===void 0?void 0:server.id]);const tabs=[{id:'overview',label:'Overview',icon:FaServer},{id:'files',label:'Files',icon:FaFolder},{id:'config',label:'Config',icon:FaCog},{id:'players',label:'Players',icon:FaUsers},{id:'backup',label:'Backup',icon:FaDownload},{id:'schedule',label:'Schedule',icon:FaClock}];// FilesPanelWrapper implements the new/changed file methods\nfunction FilesPanelWrapper(_ref8){let{serverName}=_ref8;const[path,setPath]=useState('.');const[items,setItems]=useState([]);const[loading,setLoading]=useState(false);const[err,setErr]=useState('');const[blockedFileErrorLocal,setBlockedFileErrorLocal]=useState('');useEffect(()=>{loadDir('.');// eslint-disable-next-line\n},[serverName]);async function loadDir(){let p=arguments.length>0&&arguments[0]!==undefined?arguments[0]:path;setLoading(true);setErr('');try{const r=await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/files?path=\").concat(encodeURIComponent(p)));const d=await r.json();setItems(d.items||[]);setPath(p);}catch(e){setErr(String(e));}finally{setLoading(false);}}async function openFile(name){setBlockedFileErrorLocal('');setBlockedFileError('');if(isBlockedFile(name)){setBlockedFileErrorLocal('Cannot open this file type in the editor.');setBlockedFileError('Cannot open this file type in the editor.');return;}const filePath=path==='.'?name:\"\".concat(path,\"/\").concat(name);// Backend should check file size and type, and only return content for text files\nconst r=await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/file?path=\").concat(encodeURIComponent(filePath)));const d=await r.json();if(d&&d.error){setBlockedFileErrorLocal(d.error);setBlockedFileError(d.error);return;}setEditPath(filePath);setEditContent(d.content||'');setIsEditing(true);setFilesEditing(true);}async function openDir(name){await loadDir(path==='.'?name:\"\".concat(path,\"/\").concat(name));}function goUp(){if(path==='.'||!path)return;const parts=path.split('/');parts.pop();const p=parts.length?parts.join('/'):'.';loadDir(p);}async function del(name,isDir){const p=path==='.'?name:\"\".concat(path,\"/\").concat(name);await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/file?path=\").concat(encodeURIComponent(p)),{method:'DELETE'});loadDir(path);}async function upload(ev){var _ev$target$files;const file=(_ev$target$files=ev.target.files)===null||_ev$target$files===void 0?void 0:_ev$target$files[0];if(!file)return;const fd=new window.FormData();fd.append('path',path);fd.append('file',file);await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(serverName),\"/upload\"),{method:'POST',body:fd});loadDir(path);}const sortedItems=useMemo(()=>{return[...items].sort((a,b)=>{if(a.is_dir&&!b.is_dir)return-1;if(!a.is_dir&&b.is_dir)return 1;return a.name.localeCompare(b.name,undefined,{sensitivity:'base'});});},[items]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-black/20 rounded-lg\",style:{maxWidth:520,minWidth:320},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/70\",children:[\"Path: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:path})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:goUp,className:\"text-xs rounded bg-white/10 hover:bg-white/20 px-2 py-1\",children:\"Up\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"text-xs rounded bg-brand-500 hover:bg-brand-400 px-2 py-1 cursor-pointer inline-flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FaUpload,{}),\" Upload\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"hidden\",onChange:upload})]})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-xs\",children:\"Loading\\u2026\"}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs\",children:err}),blockedFileErrorLocal&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs\",children:blockedFileErrorLocal}),!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:sortedItems.map(it=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white/5 border border-white/10 rounded px-2 py-1\",style:{minHeight:32},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 text-base\",children:it.is_dir?/*#__PURE__*/_jsx(FaFolder,{}):'ðŸ“„'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs\",children:it.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-xs\",children:[it.is_dir?/*#__PURE__*/_jsx(\"button\",{onClick:()=>openDir(it.name),className:\"rounded bg-white/10 hover:bg-white/20 px-2 py-1\",children:\"Open\"}):/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openFile(it.name),className:\"rounded bg-white/10 hover:bg-white/20 px-2 py-1 inline-flex items-center gap-1\",disabled:isBlockedFile(it.name),style:isBlockedFile(it.name)?{opacity:0.5,pointerEvents:'none'}:{},title:isBlockedFile(it.name)?\"Cannot open this file type in the editor\":\"Edit\",children:[/*#__PURE__*/_jsx(FaSave,{}),\" Edit\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>del(it.name,it.is_dir),className:\"rounded bg-red-600 hover:bg-red-500 px-2 py-1\",children:\"Delete\"})]})]},it.name))})]});}async function saveFile(){const body=new URLSearchParams({content:editContent});await fetch(\"\".concat(API,\"/servers/\").concat(encodeURIComponent(server.name),\"/file?path=\").concat(encodeURIComponent(editPath)),{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body});setIsEditing(false);setFilesEditing(false);setEditPath('');setEditContent('');setBlockedFileError('');}function cancelEdit(){setIsEditing(false);setFilesEditing(false);setEditPath('');setEditContent('');setBlockedFileError('');}const renderTabContent=()=>{switch(activeTab){case'files':return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row gap-6 w-full\",children:[/*#__PURE__*/_jsx(FilesPanelWrapper,{serverName:server.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-[0]\",children:[isEditing?/*#__PURE__*/_jsx(EditingPanel,{editPath:editPath,editContent:editContent,setEditContent:setEditContent,onSave:saveFile,onCancel:cancelEdit}):/*#__PURE__*/_jsx(TerminalPanel,{containerId:server.id}),blockedFileError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-xs mt-2\",children:blockedFileError})]})]});case'backup':return/*#__PURE__*/_jsx(BackupsPanel,{serverName:server.name});case'config':return/*#__PURE__*/_jsx(ConfigPanel,{server:server,onRestart:onRestart});case'players':return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-black/20 rounded-lg text-sm text-white/70\",children:\"Player listing and management coming soon.\"});case'schedule':return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-black/20 rounded-lg text-sm text-white/70\",children:\"Scheduling UI coming soon.\"});default:return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-black/20 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/70 mb-3\",children:\"Server Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/50\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:server.status==='running'?'text-green-400':'text-yellow-400',children:server.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/50\",children:\"Port\"}),/*#__PURE__*/_jsx(\"div\",{children:server.ports?Object.entries(server.ports).map(_ref9=>{var _v$;let[,v]=_ref9;return(v===null||v===void 0?void 0:(_v$=v[0])===null||_v$===void 0?void 0:_v$.HostPort)||'N/A';}).join(', '):'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/50\",children:\"Type\"}),/*#__PURE__*/_jsx(\"div\",{children:(typeVersionData===null||typeVersionData===void 0?void 0:typeVersionData.server_type)||server.type||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"Unknown\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/50\",children:\"Version\"}),/*#__PURE__*/_jsx(\"div\",{children:(typeVersionData===null||typeVersionData===void 0?void 0:typeVersionData.server_version)||server.version||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"Unknown\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/50\",children:\"Created\"}),/*#__PURE__*/_jsx(\"div\",{children:server.created_at?new Date(server.created_at).toLocaleString():'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/50\",children:\"ID\"}),/*#__PURE__*/_jsx(\"div\",{children:server.id})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(Stat,{label:\"CPU Usage\",value:stats&&typeof stats.cpu_percent==='number'?\"\".concat(stats.cpu_percent.toFixed(1),\"%\"):'...',icon:/*#__PURE__*/_jsx(FaMicrochip,{})}),/*#__PURE__*/_jsx(Stat,{label:\"RAM Usage\",value:stats&&typeof stats.memory_usage_mb==='number'?\"\".concat(Math.round(stats.memory_usage_mb),\"MB / \").concat(Math.round(stats.memory_limit_mb),\"MB\"):'...',icon:/*#__PURE__*/_jsx(FaMemory,{})}),/*#__PURE__*/_jsx(Stat,{label:\"Networking\",value:stats&&typeof stats.network_rx_mb==='number'?\"In: \".concat(stats.network_rx_mb.toFixed(2),\" MB, Out: \").concat(stats.network_tx_mb.toFixed(2),\" MB\"):'...',icon:/*#__PURE__*/_jsx(FaNetworkWired,{})})]})]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container max-w-4xl mx-auto mt-10 mb-16\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,className:\"mb-6 flex items-center gap-2 text-white/70 hover:text-white text-lg\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{}),\" Back to servers\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"rounded-2xl bg-white/5 border border-white/10 shadow-card p-4 min-h-[700px] md:min-h-[900px] flex flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 flex-1 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-md bg-brand-500 inline-flex items-center justify-center text-3xl\",children:/*#__PURE__*/_jsx(FaServer,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-2xl\",children:server.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/60\",children:server.id.slice(0,12)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/50 mt-1\",children:[\"Type: \",(typeVersionData===null||typeVersionData===void 0?void 0:typeVersionData.server_type)||server.type||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"Unknown\"}),\" | Version: \",(typeVersionData===null||typeVersionData===void 0?void 0:typeVersionData.server_version)||server.version||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"Unknown\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-base px-4 py-2 rounded-full \".concat(server.status==='running'?'bg-green-500/20 text-green-300':'bg-yellow-500/20 text-yellow-300'),children:server.status})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 border-b border-white/10 overflow-x-auto\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"flex items-center gap-3 px-6 py-4 text-lg rounded-t-lg transition \".concat(activeTab===tab.id?'bg-brand-500 text-white':'text-white/70 hover:text-white hover:bg-white/10'),children:[/*#__PURE__*/_jsx(tab.icon,{}),tab.label]},tab.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex flex-row gap-6\",children:renderTabContent()})]}),activeTab!=='files'&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8\",children:/*#__PURE__*/_jsx(TerminalPanel,{containerId:server.id})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-8 pt-8 border-t border-white/10\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onStart(server.id),className:\"inline-flex items-center gap-2 rounded-md bg-green-600 hover:bg-green-500 px-6 py-3 text-lg font-semibold\",children:[/*#__PURE__*/_jsx(FaPlay,{}),\" Start\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onStop(server.id),className:\"inline-flex items-center gap-2 rounded-md bg-yellow-600 hover:bg-yellow-500 px-6 py-3 text-lg font-semibold\",children:[/*#__PURE__*/_jsx(FaStop,{}),\" Stop\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"inline-flex items-center gap-2 rounded-md bg-slate-700 hover:bg-slate-600 px-6 py-3 text-lg font-semibold\",style:{pointerEvents:'none',opacity:0.5},tabIndex:-1,\"aria-disabled\":\"true\",children:[/*#__PURE__*/_jsx(FaTerminal,{}),\" Console/Logs\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onDelete(server.id),className:\"inline-flex items-center gap-2 rounded-md bg-red-600 hover:bg-red-500 px-6 py-3 text-lg font-semibold ml-auto\",children:[/*#__PURE__*/_jsx(FaTrash,{}),\" Delete\"]})]})]})})]});}function ServerListCard(_ref0){let{server,onClick}=_ref0;const{data:typeVersionData}=useFetch(server!==null&&server!==void 0&&server.id?\"\".concat(API,\"/servers/\").concat(server.id,\"/info\"):null,[server===null||server===void 0?void 0:server.id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-white/5 border border-white/10 shadow-card p-6 flex items-center justify-between cursor-pointer hover:bg-brand-500/10 transition\",onClick:onClick,tabIndex:0,role:\"button\",style:{minHeight:100},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-md bg-brand-500 inline-flex items-center justify-center text-2xl\",children:/*#__PURE__*/_jsx(FaServer,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-xl\",children:server.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-white/60\",children:server.id.slice(0,12)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-white/50 mt-1\",children:[\"Type: \",(typeVersionData===null||typeVersionData===void 0?void 0:typeVersionData.server_type)||server.type||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"Unknown\"}),\" | Version: \",(typeVersionData===null||typeVersionData===void 0?void 0:typeVersionData.server_version)||server.version||/*#__PURE__*/_jsx(\"span\",{className:\"text-white/40\",children:\"Unknown\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-base px-4 py-2 rounded-full \".concat(server.status==='running'?'bg-green-500/20 text-green-300':'bg-yellow-500/20 text-yellow-300'),children:server.status}),/*#__PURE__*/_jsx(FaChevronRight,{className:\"text-white/40 text-xl\"})]})]});}function App(){// Auth state\nconst[authToken,setAuthToken]=useState(getStoredToken());const isAuthenticated=!!authToken;const[loginUsername,setLoginUsername]=useState('admin');const[loginPassword,setLoginPassword]=useState('admin123');const[loginError,setLoginError]=useState('');const[loginLoading,setLoginLoading]=useState(false);async function handleLogin(e){e.preventDefault();setLoginError('');setLoginLoading(true);try{const body=new URLSearchParams({username:loginUsername,password:loginPassword});const r=await fetch(\"\".concat(API,\"/auth/login\"),{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body});if(!r.ok){const payload=await r.json().catch(()=>null);throw new Error(payload&&(payload.detail||payload.message)||\"HTTP \".concat(r.status));}const data=await r.json();const token=data&&data.access_token;if(!token)throw new Error('Invalid login response');setStoredToken(token);setAuthToken(token);}catch(err){setLoginError(err.message||'Login failed');}finally{setLoginLoading(false);}}function handleLogout(){clearStoredToken();setAuthToken('');// Reload to clear any in-memory state\nwindow.location.reload();}// Fetch server types from backend\nconst{data:typesData,error:typesError}=useFetch(\"\".concat(API,\"/server-types\"),[]);// Default selected type is 'vanilla'\nconst[selectedType,setSelectedType]=useState('vanilla');// Fetch versions for the selected type\nconst{data:versionsData,error:versionsError}=useFetch(selectedType?\"\".concat(API,\"/server-types/\").concat(selectedType,\"/versions\"):null,[selectedType]);// Loader version state for types that need it (as in backend/app.py)\nconst[loaderVersion,setLoaderVersion]=useState('');const[loaderVersionsData,setLoaderVersionsData]=useState(null);const[loaderVersionsLoading,setLoaderVersionsLoading]=useState(false);const[loaderVersionsError,setLoaderVersionsError]=useState(null);// Fetch servers\nconst{data:serversData,loading:serversLoading,error:serversError}=useFetch(isAuthenticated?\"\".concat(API,\"/servers\"):null,[isAuthenticated]);// Server creation form state\nconst[name,setName]=useState('mc-'+Math.random().toString(36).slice(2,7));const[version,setVersion]=useState('');const[hostPort,setHostPort]=useState('');// RAM state for min/max ram (in MB)\nconst[minRam,setMinRam]=useState('1024');const[maxRam,setMaxRam]=useState('2048');// Selected server for details view\nconst[selectedServer,setSelectedServer]=useState(null);// Only fetch loader versions for types that actually need it and only if a version is selected and valid\nuseEffect(()=>{// Only fetch loader versions if the selected type is in the loader list and a version is selected\nif(SERVER_TYPES_WITH_LOADER.includes(selectedType)&&version&&// Only fetch if the version string is not a snapshot or non-release (avoid 400s for invalid versions)\n!/^(\\d{2}w\\d{2}[a-z])$/i.test(version)// skip Minecraft snapshots like 25w32a\n){setLoaderVersionsLoading(true);setLoaderVersionsError(null);setLoaderVersionsData(null);fetch(\"\".concat(API,\"/server-types/\").concat(selectedType,\"/loader-versions?version=\").concat(encodeURIComponent(version))).then(r=>{if(!r.ok)throw new Error(\"HTTP \".concat(r.status));return r.json();}).then(d=>{var _d$loader_versions;setLoaderVersionsData(d);if(d!==null&&d!==void 0&&(_d$loader_versions=d.loader_versions)!==null&&_d$loader_versions!==void 0&&_d$loader_versions.length){setLoaderVersion(d.loader_versions[0]);}else{setLoaderVersion('');}}).catch(e=>{setLoaderVersionsError(e);setLoaderVersion('');}).finally(()=>setLoaderVersionsLoading(false));}else{setLoaderVersionsData(null);setLoaderVersion('');}},[selectedType,version]);// Set default version when versionsData changes\nuseEffect(()=>{if(versionsData&&versionsData.versions&&versionsData.versions.length){setVersion(versionsData.versions[0]);}},[versionsData]);// Memoized types and servers\nconst types=useMemo(()=>typesData&&typesData.types||[],[typesData]);const servers=useMemo(()=>Array.isArray(serversData)?serversData:[],[serversData]);// Create server handler, using loader_version as in backend/app.py\nasync function createServer(e){e.preventDefault();const payload={name,type:selectedType,version,loader_version:SERVER_TYPES_WITH_LOADER.includes(selectedType)?loaderVersion:null,host_port:hostPort?Number(hostPort):null,min_ram:minRam?Number(minRam):null,max_ram:maxRam?Number(maxRam):null};await fetch(\"\".concat(API,\"/servers\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});window.location.reload();}// Start server handler\nasync function start(id){await fetch(\"\".concat(API,\"/servers/\").concat(id,\"/start\"),{method:'POST'});window.location.reload();}// Stop server handler\nasync function stop(id){await fetch(\"\".concat(API,\"/servers/\").concat(id,\"/stop\"),{method:'POST'});window.location.reload();}// Delete server handler\nasync function del(id){await fetch(\"\".concat(API,\"/servers/\").concat(id),{method:'DELETE'});window.location.reload();}// Restart server handler\nasync function restart(id){try{await fetch(\"\".concat(API,\"/servers/\").concat(id,\"/stop\"),{method:'POST'});// Wait a moment for the server to stop\nawait new Promise(resolve=>setTimeout(resolve,2000));await fetch(\"\".concat(API,\"/servers/\").concat(id,\"/start\"),{method:'POST'});// Refresh servers data\nconst response=await fetch(\"\".concat(API,\"/servers\"));if(response.ok){const updatedServers=await response.json();setServersData(updatedServers);}}catch(e){console.error('Error restarting server:',e);}}// Find selected server object\nconst selectedServerObj=selectedServer&&servers.find(s=>s.id===selectedServer);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-full bg-ink bg-hero-gradient\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"border-b border-white/10 bg-ink/80 backdrop-blur supports-[backdrop-filter]:bg-ink/60\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container flex items-center justify-between h-14\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-md bg-brand-500 inline-flex items-center justify-center shadow-card\",children:/*#__PURE__*/_jsx(FaServer,{className:\"text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:\"Minecraft Panel\"})]}),/*#__PURE__*/_jsx(\"div\",{children:isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"text-sm text-white/70 hover:text-white border border-white/10 rounded px-3 py-1.5\",children:\"Logout\"})})]})}),!isAuthenticated&&/*#__PURE__*/_jsx(\"section\",{className:\"container mt-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto rounded-xl bg-black/30 border border-white/10 p-6 space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/80 text-lg font-medium\",children:\"Login\"}),loginError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-sm\",children:loginError}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\",value:loginUsername,onChange:e=>setLoginUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\",value:loginPassword,onChange:e=>setLoginPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loginLoading,className:\"w-full py-3 rounded-md bg-brand-500 hover:bg-brand-600 text-white font-medium\",children:loginLoading?'Logging inâ€¦':'Login'})]})]})}),isAuthenticated&&/*#__PURE__*/_jsx(\"section\",{className:\"container mt-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-10 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-5xl font-bold leading-tight\",children:\"Minecraft Panel\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/70 mt-4 text-lg\",children:\"Supports sometimes vanilla, paper, purpur, fabric, forge, and neoforge.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-6 mt-8\",children:[/*#__PURE__*/_jsx(Stat,{label:\"Server Types\",value:types.length||0}),/*#__PURE__*/_jsx(Stat,{label:\"Active Servers\",value:servers.length||0}),/*#__PURE__*/_jsx(Stat,{label:\"Docker\",value:!serversError?'Connected':'Unavailable'})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:createServer,className:\"rounded-xl bg-black/30 border border-white/10 p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-white/80 text-lg\",children:[/*#__PURE__*/_jsx(FaPlusCircle,{}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Create new server\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Server name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Type\"}),/*#__PURE__*/_jsx(\"select\",{className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\",value:selectedType,onChange:e=>setSelectedType(e.target.value),children:types.map(t=>/*#__PURE__*/_jsx(\"option\",{value:t,children:t},t))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Version\"}),/*#__PURE__*/_jsx(\"select\",{className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\",value:version,onChange:e=>setVersion(e.target.value),children:(versionsData&&versionsData.versions?versionsData.versions:[]).map(v=>/*#__PURE__*/_jsx(\"option\",{value:v,children:v},v))})]})]}),SERVER_TYPES_WITH_LOADER.includes(selectedType)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Loader version\"}),/*#__PURE__*/_jsx(\"select\",{className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\",value:loaderVersion,onChange:e=>setLoaderVersion(e.target.value),children:((loaderVersionsData===null||loaderVersionsData===void 0?void 0:loaderVersionsData.loader_versions)||[]).map(lv=>/*#__PURE__*/_jsx(\"option\",{value:lv,children:lv},lv))}),loaderVersionsLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-sm mt-1\",children:\"Loading loader versions\\u2026\"}),loaderVersionsError&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400 text-sm mt-1\",children:\"Failed to load loader versions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Host port\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\",value:hostPort,onChange:e=>setHostPort(e.target.value),placeholder:\"25565\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Min RAM (MB)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\",value:minRam,onChange:e=>setMinRam(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-base text-white/70\",children:\"Max RAM (MB)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\",value:maxRam,onChange:e=>setMaxRam(e.target.value)})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-3 rounded-md bg-brand-500 hover:bg-brand-600 text-white font-medium\",children:\"Create server\"})]})]})})}),!selectedServer?/*#__PURE__*/_jsxs(\"section\",{className:\"container mt-16 mb-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-6\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold\",children:\"Your servers\"})}),serversLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-lg\",children:\"Loading servers\\u2026\"}),!serversLoading&&servers.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-lg\",children:\"No servers yet. Create your first one above.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1 gap-6\",children:servers.map(s=>/*#__PURE__*/_jsx(ServerListCard,{server:s,onClick:()=>setSelectedServer(s.id)},s.id))})]}):selectedServerObj&&/*#__PURE__*/_jsx(ServerDetailsPage,{server:selectedServerObj,onBack:()=>setSelectedServer(null),onStart:start,onStop:stop,onDelete:del,onRestart:restart})]});}export default App;","map":{"version":3,"names":["useState","useEffect","useRef","useMemo","FaServer","FaPlay","FaStop","FaTrash","FaTerminal","FaPlusCircle","FaFolder","FaCog","FaUsers","FaDownload","FaClock","FaSave","FaUpload","FaArrowLeft","FaMemory","FaMicrochip","FaNetworkWired","FaChevronRight","jsx","_jsx","jsxs","_jsxs","API","TOKEN_KEY","getStoredToken","localStorage","getItem","setStoredToken","t","setItem","clearStoredToken","removeItem","authHeaders","Authorization","concat","window","fetch","originalFetch","bind","input","init","arguments","length","undefined","headers","_objectSpread","BLOCKED_FILE_EXTENSIONS","isBlockedFile","name","lower","toLowerCase","some","ext","endsWith","useFetch","url","deps","data","setData","loading","setLoading","error","setError","active","then","r","payload","json","catch","ok","Error","detail","message","status","d","e","finally","useServerStats","serverId","stats","setStats","interval","fetchStats","setInterval","clearInterval","Stat","_ref","label","value","icon","className","children","TerminalPanel","_ref2","containerId","cmd","setCmd","logs","setLogs","scrollRef","pollLogs","current","scrollTop","scrollHeight","send","trim","method","body","JSON","stringify","command","style","minHeight","ref","fontSize","lineHeight","height","onChange","target","onKeyDown","key","placeholder","onClick","FilesPanel","_ref3","serverName","onEditStateChange","EditingPanel","_ref4","editPath","editContent","setEditContent","onSave","onCancel","BackupsPanel","_ref5","list","setList","refresh","encodeURIComponent","items","createBackup","restore","file","alert","map","b","Math","ceil","size","SERVER_TYPES_WITH_LOADER","ConfigPanel","_ref6","server","onRestart","javaVersions","setJavaVersions","currentVersion","setCurrentVersion","updating","setUpdating","fetchJavaVersions","response","id","available_versions","current_version","updateJavaVersion","version","java_version","errorData","javaInfo","disabled","description","ServerDetailsPage","_ref7","onBack","onStart","onStop","onDelete","activeTab","setActiveTab","filesEditing","setFilesEditing","setEditPath","isEditing","setIsEditing","blockedFileError","setBlockedFileError","typeVersionData","tabs","FilesPanelWrapper","_ref8","path","setPath","setItems","err","setErr","blockedFileErrorLocal","setBlockedFileErrorLocal","loadDir","p","String","openFile","filePath","content","openDir","goUp","parts","split","pop","join","del","isDir","upload","ev","_ev$target$files","files","fd","FormData","append","sortedItems","sort","a","is_dir","localeCompare","sensitivity","maxWidth","minWidth","type","it","opacity","pointerEvents","title","saveFile","URLSearchParams","cancelEdit","renderTabContent","ports","Object","entries","_ref9","_v$","v","HostPort","server_type","server_version","created_at","Date","toLocaleString","cpu_percent","toFixed","memory_usage_mb","round","memory_limit_mb","network_rx_mb","network_tx_mb","slice","tab","tabIndex","ServerListCard","_ref0","role","App","authToken","setAuthToken","isAuthenticated","loginUsername","setLoginUsername","loginPassword","setLoginPassword","loginError","setLoginError","loginLoading","setLoginLoading","handleLogin","preventDefault","username","password","token","access_token","handleLogout","location","reload","typesData","typesError","selectedType","setSelectedType","versionsData","versionsError","loaderVersion","setLoaderVersion","loaderVersionsData","setLoaderVersionsData","loaderVersionsLoading","setLoaderVersionsLoading","loaderVersionsError","setLoaderVersionsError","serversData","serversLoading","serversError","setName","random","toString","setVersion","hostPort","setHostPort","minRam","setMinRam","maxRam","setMaxRam","selectedServer","setSelectedServer","includes","test","_d$loader_versions","loader_versions","versions","types","servers","Array","isArray","createServer","loader_version","host_port","Number","min_ram","max_ram","start","stop","restart","Promise","resolve","setTimeout","updatedServers","setServersData","console","selectedServerObj","find","s","onSubmit","required","lv"],"sources":["/workspace/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect, useRef, useMemo } from 'react';\nimport {\n  FaServer,\n  FaPlay,\n  FaStop,\n  FaTrash,\n  FaTerminal,\n  FaPlusCircle,\n  FaFolder,\n  FaCog,\n  FaUsers,\n  FaDownload,\n  FaClock,\n  FaSave,\n  FaUpload,\n  FaArrowLeft,\n  FaMemory,\n  FaMicrochip,\n  FaNetworkWired,\n  FaChevronRight,\n} from 'react-icons/fa';\n\nconst API = 'http://localhost:8000';\n\nconst TOKEN_KEY = 'auth_token';\nconst getStoredToken = () => localStorage.getItem(TOKEN_KEY) || '';\nconst setStoredToken = (t) => localStorage.setItem(TOKEN_KEY, t);\nconst clearStoredToken = () => localStorage.removeItem(TOKEN_KEY);\nconst authHeaders = () => {\n  const t = getStoredToken();\n  return t ? { Authorization: `Bearer ${t}` } : {};\n};\n\n// Attach Authorization header to all fetch calls\nif (typeof window !== 'undefined' && typeof window.fetch === 'function') {\n  const originalFetch = window.fetch.bind(window);\n  window.fetch = (input, init = {}) => {\n    const headers = { ...(init && init.headers ? init.headers : {}), ...authHeaders() };\n    return originalFetch(input, { ...(init || {}), headers });\n  };\n}\n\nconst BLOCKED_FILE_EXTENSIONS = [\n  '.jar', '.exe', '.dll', '.zip', '.tar', '.gz', '.7z', '.rar', '.bin', '.img', '.iso', '.mp3', '.mp4', '.avi', '.mov', '.ogg', '.wav', '.class', '.so', '.o', '.a', '.pdf', '.png', '.jpg', '.jpeg', '.gif', '.bmp', '.ico', '.webp', '.ttf', '.otf', '.woff', '.woff2'\n];\n\nfunction isBlockedFile(name) {\n  const lower = name.toLowerCase();\n  return BLOCKED_FILE_EXTENSIONS.some(ext => lower.endsWith(ext));\n}\n\nfunction useFetch(url, deps = []) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!url) return;\n    let active = true;\n    setLoading(true);\n    fetch(url)\n      .then(async (r) => {\n        const payload = await r.json().catch(() => null);\n        if (!r.ok)\n          throw new Error(\n            (payload && (payload.detail || payload.message)) ||\n              `HTTP ${r.status}`\n          );\n        return payload;\n      })\n      .then((d) => active && setData(d))\n      .catch((e) => active && setError(e))\n      .finally(() => active && setLoading(false));\n    return () => {\n      active = false;\n    };\n  }, deps);\n\n  return { data, loading, error, setData };\n}\n\nfunction useServerStats(serverId) {\n  const [stats, setStats] = useState(null);\n\n  useEffect(() => {\n    if (!serverId) return;\n    let active = true;\n    let interval = null;\n\n    async function fetchStats() {\n      try {\n        const r = await fetch(`${API}/servers/${serverId}/stats`);\n        if (!r.ok) {\n          if (r.status === 404) {\n            if (active) setStats(null);\n            return;\n          }\n          throw new Error(`HTTP ${r.status}`);\n        }\n        const d = await r.json();\n        if (active) setStats(d);\n      } catch (e) {\n        if (active && e.message !== 'HTTP 404') {\n          setStats(null);\n        }\n      }\n    }\n\n    fetchStats();\n    interval = setInterval(fetchStats, 2000);\n\n    return () => {\n      active = false;\n      if (interval) clearInterval(interval);\n    };\n  }, [serverId]);\n\n  return stats;\n}\n\nfunction Stat({ label, value, icon }) {\n  return (\n    <div className=\"rounded-xl bg-white/5 border border-white/10 px-4 py-3 flex items-center gap-3\">\n      {icon && <span className=\"text-xl text-white/60\">{icon}</span>}\n      <div>\n        <div className=\"text-sm text-white/70\">{label}</div>\n        <div className=\"text-2xl font-semibold mt-1\">{value}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction TerminalPanel({ containerId }) {\n  const [cmd, setCmd] = useState('');\n  const [logs, setLogs] = useState('');\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    if (!containerId) return;\n    let active = true;\n    setLogs('');\n    fetch(`${API}/servers/${containerId}/logs?tail=200`)\n      .then((r) => r.json())\n      .then((d) => {\n        if (active && d && typeof d.logs === 'string') setLogs(d.logs);\n      })\n      .catch(() => {\n        if (active) setLogs('');\n      });\n    return () => {\n      active = false;\n    };\n  }, [containerId]);\n\n  useEffect(() => {\n    if (!containerId) return;\n    let active = true;\n    let interval = null;\n\n    async function pollLogs() {\n      try {\n        const r = await fetch(`${API}/servers/${containerId}/logs?tail=200`);\n        const d = await r.json();\n        if (active && d && typeof d.logs === 'string') setLogs(d.logs);\n      } catch (e) {\n        if (active) setLogs('');\n      }\n    }\n\n    interval = setInterval(pollLogs, 2000);\n    return () => {\n      active = false;\n      if (interval) clearInterval(interval);\n    };\n  }, [containerId]);\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [logs]);\n\n  function send() {\n    if (!cmd.trim()) return;\n    fetch(`${API}/servers/${containerId}/command`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ command: cmd }),\n    });\n    setCmd('');\n  }\n\n  return (\n    <div className=\"p-6 bg-black/20 rounded-lg space-y-4\" style={{ minHeight: 600 }}>\n      <div className=\"text-base text-white/70 mb-2\">Server Console & Logs (live)</div>\n      <div\n        ref={scrollRef}\n        className=\"text-sm text-white/70 whitespace-pre-wrap bg-black/30 p-4 rounded max-h-[800px] min-h-[500px] overflow-auto font-mono\"\n        style={{ fontSize: '1.15rem', lineHeight: '1.5', height: 500 }}\n      >\n        {logs || <span className=\"text-white/40\">No output yet.</span>}\n      </div>\n      <div className=\"flex gap-3 mt-2\">\n        <input\n          value={cmd}\n          onChange={(e) => setCmd(e.target.value)}\n          onKeyDown={(e) => e.key === 'Enter' && send()}\n          className=\"flex-1 rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\"\n          placeholder=\"Type a command (e.g. say hello or op Username)\"\n        />\n        <button\n          onClick={send}\n          className=\"inline-flex items-center gap-2 rounded-md bg-brand-500 hover:bg-brand-400 px-4 py-3 font-semibold text-base\"\n        >\n          <FaTerminal /> Send\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction FilesPanel({ serverName, onEditStateChange }) {\n  // This component is now unused, see FilesPanelWrapper in ServerDetailsPage\n  return null;\n}\n\nfunction EditingPanel({ editPath, editContent, setEditContent, onSave, onCancel }) {\n  return (\n    <div className=\"mt-4\">\n      <div className=\"text-xs text-white/70 mb-1\">Editing: {editPath}</div>\n      <textarea\n        className=\"w-full h-40 rounded bg-black/40 border border-white/10 p-2 text-xs\"\n        value={editContent}\n        onChange={(e) => setEditContent(e.target.value)}\n      />\n      <div className=\"mt-2 flex gap-2\">\n        <button\n          onClick={onSave}\n          className=\"rounded bg-brand-500 hover:bg-brand-400 px-3 py-1.5 inline-flex items-center gap-2 text-xs\"\n        >\n          <FaSave /> Save\n        </button>\n        <button\n          onClick={onCancel}\n          className=\"rounded bg-white/10 hover:bg-white/20 px-3 py-1.5 text-xs\"\n        >\n          Cancel\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction BackupsPanel({ serverName }) {\n  const [list, setList] = useState([]);\n  async function refresh() {\n    const r = await fetch(\n      `${API}/servers/${encodeURIComponent(serverName)}/backups`\n    );\n    const d = await r.json();\n    setList(d.items || []);\n  }\n  useEffect(() => {\n    refresh();  \n  }, [serverName]);\n  async function createBackup() {\n    await fetch(\n      `${API}/servers/${encodeURIComponent(serverName)}/backups`,\n      { method: 'POST' }\n    );\n    refresh();\n  }\n  async function restore(file) {\n    await fetch(\n      `${API}/servers/${encodeURIComponent(serverName)}/restore?file=${encodeURIComponent(\n        file\n      )}`,\n      { method: 'POST' }\n    );\n    alert('Restore triggered. Stop the server before restoring for safety.');\n  }\n  return (\n    <div className=\"p-4 bg-black/20 rounded-lg\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"text-sm text-white/70\">Backups</div>\n        <button\n          onClick={createBackup}\n          className=\"rounded bg-brand-500 hover:bg-brand-400 px-3 py-1.5 inline-flex items-center gap-2\"\n        >\n          <FaDownload /> Create backup\n        </button>\n      </div>\n      <div className=\"space-y-1\">\n        {list.map((b) => (\n          <div\n            key={b.file}\n            className=\"flex items-center justify-between bg-white/5 border border-white/10 rounded px-3 py-2 text-sm\"\n          >\n            <div>\n              {b.file}{' '}\n              <span className=\"text-white/50\">\n                ({Math.ceil((b.size || 0) / 1024 / 1024)} MB)\n              </span>\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                onClick={() => restore(b.file)}\n                className=\"rounded bg-white/10 hover:bg-white/20 px-2 py-1\"\n              >\n                Restore\n              </button>\n            </div>\n          </div>\n        ))}\n        {list.length === 0 && (\n          <div className=\"text-white/60 text-sm\">No backups yet.</div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n// List of server types that require loader version input\nconst SERVER_TYPES_WITH_LOADER = ['fabric', 'forge', 'neoforge'];\n\nfunction ConfigPanel({ server, onRestart }) {\n  const [javaVersions, setJavaVersions] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentVersion, setCurrentVersion] = useState(null);\n  const [updating, setUpdating] = useState(false);\n\n  // Fetch available Java versions\n  useEffect(() => {\n    async function fetchJavaVersions() {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`${API}/servers/${server.id}/java-versions`);\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}`);\n        }\n        const data = await response.json();\n        setJavaVersions(data.available_versions);\n        setCurrentVersion(data.current_version);\n      } catch (e) {\n        setError(e.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchJavaVersions();\n  }, [server.id]);\n\n  // Update Java version\n  async function updateJavaVersion(version) {\n    setUpdating(true);\n    setError(null);\n    try {\n      const response = await fetch(`${API}/servers/${server.id}/java-version`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ java_version: version }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || `HTTP ${response.status}`);\n      }\n      \n      const data = await response.json();\n      setCurrentVersion(data.java_version);\n      \n      // Show success message\n      alert(`Java version updated to ${data.java_version}`);\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setUpdating(false);\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"p-4 bg-black/20 rounded-lg\">\n        <div className=\"text-sm text-white/70\">Loading Java version information...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-4 bg-black/20 rounded-lg\">\n        <div className=\"text-sm text-red-400\">Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-4 bg-black/20 rounded-lg\">\n      <div className=\"text-lg font-semibold text-white mb-4\">Server Configuration</div>\n      \n      {/* Java Version Selection */}\n      <div className=\"mb-6\">\n        <div className=\"text-sm text-white/70 mb-2\">Java Version</div>\n        <div className=\"text-xs text-white/50 mb-3\">\n          Current version: <span className=\"text-green-400\">{currentVersion}</span>\n        </div>\n        \n        <div className=\"grid grid-cols-2 gap-3\">\n          {javaVersions?.map((javaInfo) => (\n            <button\n              key={javaInfo.version}\n              onClick={() => updateJavaVersion(javaInfo.version)}\n              disabled={updating || currentVersion === javaInfo.version}\n              className={`p-3 rounded-lg border transition ${\n                currentVersion === javaInfo.version\n                  ? 'bg-brand-500 border-brand-400 text-white'\n                  : 'bg-white/5 border-white/10 text-white/70 hover:bg-white/10 hover:text-white'\n              } ${updating ? 'opacity-50 cursor-not-allowed' : ''}`}\n            >\n              <div className=\"font-semibold\">{javaInfo.name}</div>\n              <div className=\"text-xs opacity-70\">{javaInfo.description}</div>\n            </button>\n          ))}\n        </div>\n        \n        {updating && (\n          <div className=\"text-sm text-yellow-400 mt-2\">Updating Java version...</div>\n        )}\n        \n        {currentVersion && (\n          <div className=\"mt-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg\">\n            <div className=\"text-sm text-blue-300 mb-2\">ðŸ’¡ Tip</div>\n            <div className=\"text-xs text-blue-200\">\n              After changing the Java version, restart the server for the changes to take effect.\n            </div>\n            {onRestart && (\n              <button\n                onClick={() => onRestart(server.id)}\n                className=\"mt-2 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition\"\n              >\n                Restart Server\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Additional Configuration Options */}\n      <div className=\"border-t border-white/10 pt-4\">\n        <div className=\"text-sm text-white/70 mb-2\">Additional Settings</div>\n        <div className=\"text-xs text-white/50\">\n          Use the Files tab to edit server.properties, spigot.yml, and other configuration files.\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ServerDetailsPage({ server, onBack, onStart, onStop, onDelete, onRestart }) {\n  const [activeTab, setActiveTab] = useState('overview');\n  const [filesEditing, setFilesEditing] = useState(false);\n  const [editPath, setEditPath] = useState('');\n  const [editContent, setEditContent] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [blockedFileError, setBlockedFileError] = useState('');\n  const stats = useServerStats(server.id);\n\n  const { data: typeVersionData } = useFetch(\n    server?.id ? `${API}/servers/${server.id}/info` : null,\n    [server?.id]\n  );\n\n  const tabs = [\n    { id: 'overview', label: 'Overview', icon: FaServer },\n    { id: 'files', label: 'Files', icon: FaFolder },\n    { id: 'config', label: 'Config', icon: FaCog },\n    { id: 'players', label: 'Players', icon: FaUsers },\n    { id: 'backup', label: 'Backup', icon: FaDownload },\n    { id: 'schedule', label: 'Schedule', icon: FaClock },\n  ];\n\n  // FilesPanelWrapper implements the new/changed file methods\n  function FilesPanelWrapper({ serverName }) {\n    const [path, setPath] = useState('.');\n    const [items, setItems] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [err, setErr] = useState('');\n    const [blockedFileErrorLocal, setBlockedFileErrorLocal] = useState('');\n\n    useEffect(() => {\n      loadDir('.');\n      // eslint-disable-next-line\n    }, [serverName]);\n\n    async function loadDir(p = path) {\n      setLoading(true);\n      setErr('');\n      try {\n        const r = await fetch(\n          `${API}/servers/${encodeURIComponent(serverName)}/files?path=${encodeURIComponent(\n            p\n          )}`\n        );\n        const d = await r.json();\n        setItems(d.items || []);\n        setPath(p);\n      } catch (e) {\n        setErr(String(e));\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    async function openFile(name) {\n      setBlockedFileErrorLocal('');\n      setBlockedFileError('');\n      if (isBlockedFile(name)) {\n        setBlockedFileErrorLocal('Cannot open this file type in the editor.');\n        setBlockedFileError('Cannot open this file type in the editor.');\n        return;\n      }\n      const filePath = path === '.' ? name : `${path}/${name}`;\n      // Backend should check file size and type, and only return content for text files\n      const r = await fetch(\n        `${API}/servers/${encodeURIComponent(serverName)}/file?path=${encodeURIComponent(\n          filePath\n        )}`\n      );\n      const d = await r.json();\n      if (d && d.error) {\n        setBlockedFileErrorLocal(d.error);\n        setBlockedFileError(d.error);\n        return;\n      }\n      setEditPath(filePath);\n      setEditContent(d.content || '');\n      setIsEditing(true);\n      setFilesEditing(true);\n    }\n    async function openDir(name) {\n      await loadDir(path === '.' ? name : `${path}/${name}`);\n    }\n    function goUp() {\n      if (path === '.' || !path) return;\n      const parts = path.split('/');\n      parts.pop();\n      const p = parts.length ? parts.join('/') : '.';\n      loadDir(p);\n    }\n    async function del(name, isDir) {\n      const p = path === '.' ? name : `${path}/${name}`;\n      await fetch(\n        `${API}/servers/${encodeURIComponent(serverName)}/file?path=${encodeURIComponent(\n          p\n        )}`,\n        { method: 'DELETE' }\n      );\n      loadDir(path);\n    }\n    async function upload(ev) {\n      const file = ev.target.files?.[0];\n      if (!file) return;\n      const fd = new window.FormData();\n      fd.append('path', path);\n      fd.append('file', file);\n      await fetch(\n        `${API}/servers/${encodeURIComponent(serverName)}/upload`,\n        { method: 'POST', body: fd }\n      );\n      loadDir(path);\n    }\n\n    const sortedItems = useMemo(() => {\n      return [...items].sort((a, b) => {\n        if (a.is_dir && !b.is_dir) return -1;\n        if (!a.is_dir && b.is_dir) return 1;\n        return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });\n      });\n    }, [items]);\n\n    return (\n      <div className=\"p-2 bg-black/20 rounded-lg\" style={{ maxWidth: 520, minWidth: 320 }}>\n        <div className=\"flex items-center justify-between mb-2\">\n          <div className=\"text-xs text-white/70\">\n            Path: <span className=\"text-white\">{path}</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={goUp}\n              className=\"text-xs rounded bg-white/10 hover:bg-white/20 px-2 py-1\"\n            >\n              Up\n            </button>\n            <label className=\"text-xs rounded bg-brand-500 hover:bg-brand-400 px-2 py-1 cursor-pointer inline-flex items-center gap-2\">\n              <FaUpload /> Upload\n              <input type=\"file\" className=\"hidden\" onChange={upload} />\n            </label>\n          </div>\n        </div>\n        {loading && <div className=\"text-white/70 text-xs\">Loadingâ€¦</div>}\n        {err && <div className=\"text-red-400 text-xs\">{err}</div>}\n        {blockedFileErrorLocal && <div className=\"text-red-400 text-xs\">{blockedFileErrorLocal}</div>}\n        {!loading && (\n          <div className=\"space-y-1\">\n            {sortedItems.map((it) => (\n              <div\n                key={it.name}\n                className=\"flex items-center justify-between bg-white/5 border border-white/10 rounded px-2 py-1\"\n                style={{ minHeight: 32 }}\n              >\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-yellow-400 text-base\">\n                    {it.is_dir ? <FaFolder /> : 'ðŸ“„'}\n                  </span>\n                  <span className=\"text-xs\">{it.name}</span>\n                </div>\n                <div className=\"flex items-center gap-1 text-xs\">\n                  {it.is_dir ? (\n                    <button\n                      onClick={() => openDir(it.name)}\n                      className=\"rounded bg-white/10 hover:bg-white/20 px-2 py-1\"\n                    >\n                      Open\n                    </button>\n                  ) : (\n                    <button\n                      onClick={() => openFile(it.name)}\n                      className=\"rounded bg-white/10 hover:bg-white/20 px-2 py-1 inline-flex items-center gap-1\"\n                      disabled={isBlockedFile(it.name)}\n                      style={isBlockedFile(it.name) ? { opacity: 0.5, pointerEvents: 'none' } : {}}\n                      title={isBlockedFile(it.name) ? \"Cannot open this file type in the editor\" : \"Edit\"}\n                    >\n                      <FaSave /> Edit\n                    </button>\n                  )}\n                  <button\n                    onClick={() => del(it.name, it.is_dir)}\n                    className=\"rounded bg-red-600 hover:bg-red-500 px-2 py-1\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  async function saveFile() {\n    const body = new URLSearchParams({ content: editContent });\n    await fetch(\n      `${API}/servers/${encodeURIComponent(server.name)}/file?path=${encodeURIComponent(\n        editPath\n      )}`,\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        body,\n      }\n    );\n    setIsEditing(false);\n    setFilesEditing(false);\n    setEditPath('');\n    setEditContent('');\n    setBlockedFileError('');\n  }\n\n  function cancelEdit() {\n    setIsEditing(false);\n    setFilesEditing(false);\n    setEditPath('');\n    setEditContent('');\n    setBlockedFileError('');\n  }\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'files':\n        return (\n          <div className=\"flex flex-row gap-6 w-full\">\n            <FilesPanelWrapper serverName={server.name} />\n            <div className=\"flex-1 min-w-[0]\">\n              {isEditing ? (\n                <EditingPanel\n                  editPath={editPath}\n                  editContent={editContent}\n                  setEditContent={setEditContent}\n                  onSave={saveFile}\n                  onCancel={cancelEdit}\n                />\n              ) : (\n                <TerminalPanel containerId={server.id} />\n              )}\n              {blockedFileError && (\n                <div className=\"text-red-400 text-xs mt-2\">{blockedFileError}</div>\n              )}\n            </div>\n          </div>\n        );\n      case 'backup':\n        return <BackupsPanel serverName={server.name} />;\n      case 'config':\n        return <ConfigPanel server={server} onRestart={onRestart} />;\n      case 'players':\n        return (\n          <div className=\"p-4 bg-black/20 rounded-lg text-sm text-white/70\">\n            Player listing and management coming soon.\n          </div>\n        );\n      case 'schedule':\n        return (\n          <div className=\"p-4 bg-black/20 rounded-lg text-sm text-white/70\">\n            Scheduling UI coming soon.\n          </div>\n        );\n      default:\n        return (\n          <div className=\"p-4 bg-black/20 rounded-lg\">\n            <div className=\"text-sm text-white/70 mb-3\">Server Information</div>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <div className=\"text-white/50\">Status</div>\n                <div\n                  className={\n                    server.status === 'running'\n                      ? 'text-green-400'\n                      : 'text-yellow-400'\n                  }\n                >\n                  {server.status}\n                </div>\n              </div>\n              <div>\n                <div className=\"text-white/50\">Port</div>\n                <div>\n                  {server.ports\n                    ? Object.entries(server.ports)\n                        .map(\n                          ([, v]) => v?.[0]?.HostPort || 'N/A'\n                        )\n                        .join(', ')\n                    : 'N/A'}\n                </div>\n              </div>\n              <div>\n                <div className=\"text-white/50\">Type</div>\n                <div>\n                  {typeVersionData?.server_type ||\n                    server.type ||\n                    <span className=\"text-white/40\">Unknown</span>}\n                </div>\n              </div>\n              <div>\n                <div className=\"text-white/50\">Version</div>\n                <div>\n                  {typeVersionData?.server_version ||\n                    server.version ||\n                    <span className=\"text-white/40\">Unknown</span>}\n                </div>\n              </div>\n              <div>\n                <div className=\"text-white/50\">Created</div>\n                <div>{server.created_at ? new Date(server.created_at).toLocaleString() : 'N/A'}</div>\n              </div>\n              <div>\n                <div className=\"text-white/50\">ID</div>\n                <div>{server.id}</div>\n              </div>\n            </div>\n            <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <Stat\n                label=\"CPU Usage\"\n                value={\n                  stats && typeof stats.cpu_percent === 'number'\n                    ? `${stats.cpu_percent.toFixed(1)}%`\n                    : '...'\n                }\n                icon={<FaMicrochip />}\n              />\n              <Stat\n                label=\"RAM Usage\"\n                value={\n                  stats && typeof stats.memory_usage_mb === 'number'\n                    ? `${Math.round(stats.memory_usage_mb)}MB / ${Math.round(stats.memory_limit_mb)}MB`\n                    : '...'\n                }\n                icon={<FaMemory />}\n              />\n              <Stat\n                label=\"Networking\"\n                value={\n                  stats && typeof stats.network_rx_mb === 'number'\n                    ? `In: ${stats.network_rx_mb.toFixed(2)} MB, Out: ${stats.network_tx_mb.toFixed(2)} MB`\n                    : '...'\n                }\n                icon={<FaNetworkWired />}\n              />\n            </div>\n          </div>\n        );\n    }\n  };\n\n  return (\n    <div className=\"container max-w-4xl mx-auto mt-10 mb-16\">\n      <button\n        onClick={onBack}\n        className=\"mb-6 flex items-center gap-2 text-white/70 hover:text-white text-lg\"\n      >\n        <FaArrowLeft /> Back to servers\n      </button>\n      <div className=\"rounded-2xl bg-white/5 border border-white/10 shadow-card p-4 min-h-[700px] md:min-h-[900px] flex flex-col\">\n        <div className=\"p-8 flex-1 flex flex-col\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-6\">\n              <div className=\"w-16 h-16 rounded-md bg-brand-500 inline-flex items-center justify-center text-3xl\">\n                <FaServer />\n              </div>\n              <div>\n                <div className=\"font-bold text-2xl\">{server.name}</div>\n                <div className=\"text-sm text-white/60\">\n                  {server.id.slice(0, 12)}\n                </div>\n                <div className=\"text-xs text-white/50 mt-1\">\n                  Type: {typeVersionData?.server_type || server.type || <span className=\"text-white/40\">Unknown</span>} | Version: {typeVersionData?.server_version || server.version || <span className=\"text-white/40\">Unknown</span>}\n                </div>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <div\n                className={`text-base px-4 py-2 rounded-full ${\n                  server.status === 'running'\n                    ? 'bg-green-500/20 text-green-300'\n                    : 'bg-yellow-500/20 text-yellow-300'\n                }`}\n              >\n                {server.status}\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-8\">\n            <div className=\"flex gap-4 border-b border-white/10 overflow-x-auto\">\n              {tabs.map((tab) => (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`flex items-center gap-3 px-6 py-4 text-lg rounded-t-lg transition ${\n                    activeTab === tab.id\n                      ? 'bg-brand-500 text-white'\n                      : 'text-white/70 hover:text-white hover:bg-white/10'\n                  }`}\n                >\n                  <tab.icon />\n                  {tab.label}\n                </button>\n              ))}\n            </div>\n            <div className=\"mt-4 flex flex-row gap-6\">\n              {renderTabContent()}\n            </div>\n          </div>\n          {activeTab !== 'files' && (\n            <div className=\"mt-8\">\n              <TerminalPanel containerId={server.id} />\n            </div>\n          )}\n          <div className=\"flex gap-4 mt-8 pt-8 border-t border-white/10\">\n            <button\n              onClick={() => onStart(server.id)}\n              className=\"inline-flex items-center gap-2 rounded-md bg-green-600 hover:bg-green-500 px-6 py-3 text-lg font-semibold\"\n            >\n              <FaPlay /> Start\n            </button>\n            <button\n              onClick={() => onStop(server.id)}\n              className=\"inline-flex items-center gap-2 rounded-md bg-yellow-600 hover:bg-yellow-500 px-6 py-3 text-lg font-semibold\"\n            >\n              <FaStop /> Stop\n            </button>\n            <button\n              className=\"inline-flex items-center gap-2 rounded-md bg-slate-700 hover:bg-slate-600 px-6 py-3 text-lg font-semibold\"\n              style={{ pointerEvents: 'none', opacity: 0.5 }}\n              tabIndex={-1}\n              aria-disabled=\"true\"\n            >\n              <FaTerminal /> Console/Logs\n            </button>\n            <button\n              onClick={() => onDelete(server.id)}\n              className=\"inline-flex items-center gap-2 rounded-md bg-red-600 hover:bg-red-500 px-6 py-3 text-lg font-semibold ml-auto\"\n            >\n              <FaTrash /> Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ServerListCard({ server, onClick }) {\n  const { data: typeVersionData } = useFetch(\n    server?.id ? `${API}/servers/${server.id}/info` : null,\n    [server?.id]\n  );\n\n  return (\n    <div\n      className=\"rounded-xl bg-white/5 border border-white/10 shadow-card p-6 flex items-center justify-between cursor-pointer hover:bg-brand-500/10 transition\"\n      onClick={onClick}\n      tabIndex={0}\n      role=\"button\"\n      style={{ minHeight: 100 }}\n    >\n      <div className=\"flex items-center gap-5\">\n        <div className=\"w-12 h-12 rounded-md bg-brand-500 inline-flex items-center justify-center text-2xl\">\n          <FaServer />\n        </div>\n        <div>\n          <div className=\"font-bold text-xl\">{server.name}</div>\n          <div className=\"text-sm text-white/60\">{server.id.slice(0, 12)}</div>\n          <div className=\"text-xs text-white/50 mt-1\">\n            Type: {typeVersionData?.server_type || server.type || <span className=\"text-white/40\">Unknown</span>} | Version: {typeVersionData?.server_version || server.version || <span className=\"text-white/40\">Unknown</span>}\n          </div>\n        </div>\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <div\n          className={`text-base px-4 py-2 rounded-full ${\n            server.status === 'running'\n              ? 'bg-green-500/20 text-green-300'\n              : 'bg-yellow-500/20 text-yellow-300'\n          }`}\n        >\n          {server.status}\n        </div>\n        <FaChevronRight className=\"text-white/40 text-xl\" />\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  // Auth state\n  const [authToken, setAuthToken] = useState(getStoredToken());\n  const isAuthenticated = !!authToken;\n  const [loginUsername, setLoginUsername] = useState('admin');\n  const [loginPassword, setLoginPassword] = useState('admin123');\n  const [loginError, setLoginError] = useState('');\n  const [loginLoading, setLoginLoading] = useState(false);\n\n  async function handleLogin(e) {\n    e.preventDefault();\n    setLoginError('');\n    setLoginLoading(true);\n    try {\n      const body = new URLSearchParams({ username: loginUsername, password: loginPassword });\n      const r = await fetch(`${API}/auth/login`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n        body\n      });\n      if (!r.ok) {\n        const payload = await r.json().catch(() => null);\n        throw new Error((payload && (payload.detail || payload.message)) || `HTTP ${r.status}`);\n      }\n      const data = await r.json();\n      const token = data && data.access_token;\n      if (!token) throw new Error('Invalid login response');\n      setStoredToken(token);\n      setAuthToken(token);\n    } catch (err) {\n      setLoginError(err.message || 'Login failed');\n    } finally {\n      setLoginLoading(false);\n    }\n  }\n\n  function handleLogout() {\n    clearStoredToken();\n    setAuthToken('');\n    // Reload to clear any in-memory state\n    window.location.reload();\n  }\n\n  // Fetch server types from backend\n  const { data: typesData, error: typesError } = useFetch(\n    `${API}/server-types`,\n    []\n  );\n  // Default selected type is 'vanilla'\n  const [selectedType, setSelectedType] = useState('vanilla');\n  // Fetch versions for the selected type\n  const { data: versionsData, error: versionsError } = useFetch(\n    selectedType\n      ? `${API}/server-types/${selectedType}/versions`\n      : null,\n    [selectedType]\n  );\n\n  // Loader version state for types that need it (as in backend/app.py)\n  const [loaderVersion, setLoaderVersion] = useState('');\n  const [loaderVersionsData, setLoaderVersionsData] = useState(null);\n  const [loaderVersionsLoading, setLoaderVersionsLoading] = useState(false);\n  const [loaderVersionsError, setLoaderVersionsError] = useState(null);\n\n  // Fetch servers\n  const {\n    data: serversData,\n    loading: serversLoading,\n    error: serversError,\n  } = useFetch(isAuthenticated ? `${API}/servers` : null, [isAuthenticated]);\n  // Server creation form state\n  const [name, setName] = useState(\n    'mc-' + Math.random().toString(36).slice(2, 7)\n  );\n  const [version, setVersion] = useState('');\n  const [hostPort, setHostPort] = useState('');\n\n  // RAM state for min/max ram (in MB)\n  const [minRam, setMinRam] = useState('1024');\n  const [maxRam, setMaxRam] = useState('2048');\n\n  // Selected server for details view\n  const [selectedServer, setSelectedServer] = useState(null);\n\n  // Only fetch loader versions for types that actually need it and only if a version is selected and valid\n  useEffect(() => {\n    // Only fetch loader versions if the selected type is in the loader list and a version is selected\n    if (\n      SERVER_TYPES_WITH_LOADER.includes(selectedType) &&\n      version &&\n      // Only fetch if the version string is not a snapshot or non-release (avoid 400s for invalid versions)\n      !/^(\\d{2}w\\d{2}[a-z])$/i.test(version) // skip Minecraft snapshots like 25w32a\n    ) {\n      setLoaderVersionsLoading(true);\n      setLoaderVersionsError(null);\n      setLoaderVersionsData(null);\n      fetch(`${API}/server-types/${selectedType}/loader-versions?version=${encodeURIComponent(version)}`)\n        .then((r) => {\n          if (!r.ok) throw new Error(`HTTP ${r.status}`);\n          return r.json();\n        })\n        .then((d) => {\n          setLoaderVersionsData(d);\n          if (d?.loader_versions?.length) {\n            setLoaderVersion(d.loader_versions[0]);\n          } else {\n            setLoaderVersion('');\n          }\n        })\n        .catch((e) => {\n          setLoaderVersionsError(e);\n          setLoaderVersion('');\n        })\n        .finally(() => setLoaderVersionsLoading(false));\n    } else {\n      setLoaderVersionsData(null);\n      setLoaderVersion('');\n    }\n  }, [selectedType, version]);\n\n  // Set default version when versionsData changes\n  useEffect(() => {\n    if (\n      versionsData &&\n      versionsData.versions &&\n      versionsData.versions.length\n    ) {\n      setVersion(versionsData.versions[0]);\n    }\n  }, [versionsData]);\n\n  // Memoized types and servers\n  const types = useMemo(\n    () => (typesData && typesData.types) || [],\n    [typesData]\n  );\n  const servers = useMemo(\n    () => (Array.isArray(serversData) ? serversData : []),\n    [serversData]\n  );\n\n  // Create server handler, using loader_version as in backend/app.py\n  async function createServer(e) {\n    e.preventDefault();\n    const payload = {\n      name,\n      type: selectedType,\n      version,\n      loader_version: SERVER_TYPES_WITH_LOADER.includes(selectedType) ? loaderVersion : null,\n      host_port: hostPort ? Number(hostPort) : null,\n      min_ram: minRam ? Number(minRam) : null,\n      max_ram: maxRam ? Number(maxRam) : null,\n    };\n    await fetch(`${API}/servers`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(payload),\n    });\n    window.location.reload();\n  }\n\n  // Start server handler\n  async function start(id) {\n    await fetch(`${API}/servers/${id}/start`, { method: 'POST' });\n    window.location.reload();\n  }\n  // Stop server handler\n  async function stop(id) {\n    await fetch(`${API}/servers/${id}/stop`, { method: 'POST' });\n    window.location.reload();\n  }\n  // Delete server handler\n  async function del(id) {\n    await fetch(`${API}/servers/${id}`, { method: 'DELETE' });\n    window.location.reload();\n  }\n\n  // Restart server handler\n  async function restart(id) {\n    try {\n      await fetch(`${API}/servers/${id}/stop`, { method: 'POST' });\n      // Wait a moment for the server to stop\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      await fetch(`${API}/servers/${id}/start`, { method: 'POST' });\n      // Refresh servers data\n      const response = await fetch(`${API}/servers`);\n      if (response.ok) {\n        const updatedServers = await response.json();\n        setServersData(updatedServers);\n      }\n    } catch (e) {\n      console.error('Error restarting server:', e);\n    }\n  }\n\n  // Find selected server object\n  const selectedServerObj =\n    selectedServer &&\n    servers.find((s) => s.id === selectedServer);\n\n  return (\n    <div className=\"min-h-full bg-ink bg-hero-gradient\">\n      <header className=\"border-b border-white/10 bg-ink/80 backdrop-blur supports-[backdrop-filter]:bg-ink/60\">\n        <div className=\"container flex items-center justify-between h-14\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-8 h-8 rounded-md bg-brand-500 inline-flex items-center justify-center shadow-card\">\n              <FaServer className=\"text-white\" />\n            </div>\n            <div className=\"font-semibold\">Minecraft Panel</div>\n          </div>\n          <div>\n            {isAuthenticated && (\n              <button onClick={handleLogout} className=\"text-sm text-white/70 hover:text-white border border-white/10 rounded px-3 py-1.5\">\n                Logout\n              </button>\n            )}\n          </div>\n        </div>\n      </header>\n\n      {!isAuthenticated && (\n        <section className=\"container mt-8\">\n          <div className=\"max-w-md mx-auto rounded-xl bg-black/30 border border-white/10 p-6 space-y-4\">\n            <div className=\"text-white/80 text-lg font-medium\">Login</div>\n            {loginError && <div className=\"text-red-400 text-sm\">{loginError}</div>}\n            <form onSubmit={handleLogin} className=\"space-y-4\">\n              <div>\n                <label className=\"text-base text-white/70\">Username</label>\n                <input\n                  className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\"\n                  value={loginUsername}\n                  onChange={(e) => setLoginUsername(e.target.value)}\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"text-base text-white/70\">Password</label>\n                <input\n                  type=\"password\"\n                  className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\"\n                  value={loginPassword}\n                  onChange={(e) => setLoginPassword(e.target.value)}\n                  required\n                />\n              </div>\n              <button\n                type=\"submit\"\n                disabled={loginLoading}\n                className=\"w-full py-3 rounded-md bg-brand-500 hover:bg-brand-600 text-white font-medium\"\n              >\n                {loginLoading ? 'Logging inâ€¦' : 'Login'}\n              </button>\n            </form>\n          </div>\n        </section>\n      )}\n\n      {isAuthenticated && (\n      <section className=\"container mt-8\">\n          <div className=\"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-card\">\n            <div className=\"grid md:grid-cols-2 gap-10 items-center\">\n              <div>\n                <h1 className=\"text-4xl md:text-5xl font-bold leading-tight\">\n                  Minecraft Panel\n                </h1>\n                <p className=\"text-white/70 mt-4 text-lg\">\n                  Supports sometimes vanilla, paper, purpur, fabric, forge, and neoforge.\n                </p>\n                <div className=\"grid grid-cols-3 gap-6 mt-8\">\n                  <Stat label=\"Server Types\" value={types.length || 0} />\n                  <Stat label=\"Active Servers\" value={servers.length || 0} />\n                  <Stat\n                    label=\"Docker\"\n                    value={!serversError ? 'Connected' : 'Unavailable'}\n                  />\n                </div>\n              </div>\n              <form\n                onSubmit={createServer}\n                className=\"rounded-xl bg-black/30 border border-white/10 p-6 space-y-4\"\n              >\n                <div className=\"flex items-center gap-3 text-white/80 text-lg\">\n                  <FaPlusCircle />{' '}\n                  <span className=\"font-medium\">Create new server</span>\n                </div>\n                <div>\n                  <label className=\"text-base text-white/70\">Server name</label>\n                  <input\n                    className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    required\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-base text-white/70\">Type</label>\n                    <select\n                      className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\"\n                      value={selectedType}\n                      onChange={(e) => setSelectedType(e.target.value)}\n                    >\n                      {types.map((t) => (\n                        <option key={t} value={t}>\n                          {t}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"text-base text-white/70\">Version</label>\n                    <select\n                      className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\"\n                      value={version}\n                      onChange={(e) => setVersion(e.target.value)}\n                    >\n                      {(versionsData && versionsData.versions ? versionsData.versions : []).map((v) => (\n                        <option key={v} value={v}>\n                          {v}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                {SERVER_TYPES_WITH_LOADER.includes(selectedType) && (\n                  <div>\n                    <label className=\"text-base text-white/70\">Loader version</label>\n                    <select\n                      className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 text-base\"\n                      value={loaderVersion}\n                      onChange={(e) => setLoaderVersion(e.target.value)}\n                    >\n                      {(loaderVersionsData?.loader_versions || []).map((lv) => (\n                        <option key={lv} value={lv}>\n                          {lv}\n                        </option>\n                      ))}\n                    </select>\n                    {loaderVersionsLoading && (\n                      <div className=\"text-white/70 text-sm mt-1\">Loading loader versionsâ€¦</div>\n                    )}\n                    {loaderVersionsError && (\n                      <div className=\"text-red-400 text-sm mt-1\">Failed to load loader versions</div>\n                    )}\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-base text-white/70\">Host port</label>\n                    <input\n                      type=\"number\"\n                      className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\"\n                      value={hostPort}\n                      onChange={(e) => setHostPort(e.target.value)}\n                      placeholder=\"25565\"\n                    />\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-base text-white/70\">Min RAM (MB)</label>\n                      <input\n                        type=\"number\"\n                        className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\"\n                        value={minRam}\n                        onChange={(e) => setMinRam(e.target.value)}\n                      />\n                    </div>\n                    <div>\n                      <label className=\"text-base text-white/70\">Max RAM (MB)</label>\n                      <input\n                        type=\"number\"\n                        className=\"mt-2 w-full rounded-md bg-white/5 border border-white/10 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-brand-500 text-base\"\n                        value={maxRam}\n                        onChange={(e) => setMaxRam(e.target.value)}\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  className=\"w-full py-3 rounded-md bg-brand-500 hover:bg-brand-600 text-white font-medium\"\n                >\n                  Create server\n                </button>\n              </form>\n            </div>\n          </div>\n        </section>\n      )}\n      {!selectedServer ? (\n        <section className=\"container mt-16 mb-16\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-semibold\">Your servers</h2>\n          </div>\n          {serversLoading && (\n            <div className=\"text-white/70 text-lg\">Loading serversâ€¦</div>\n          )}\n          {!serversLoading && servers.length === 0 && (\n            <div className=\"text-white/70 text-lg\">\n              No servers yet. Create your first one above.\n            </div>\n          )}\n          <div className=\"grid md:grid-cols-1 lg:grid-cols-1 xl:grid-cols-1 gap-6\">\n            {servers.map((s) => (\n              <ServerListCard\n                key={s.id}\n                server={s}\n                onClick={() => setSelectedServer(s.id)}\n              />\n            ))}\n          </div>\n        </section>\n      ) : (\n        selectedServerObj && (\n          <ServerDetailsPage\n            server={selectedServerObj}\n            onBack={() => setSelectedServer(null)}\n            onStart={start}\n            onStop={stop}\n            onDelete={del}\n            onRestart={restart}\n          />\n        )\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}